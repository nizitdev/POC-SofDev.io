{"version":3,"file":"get-all-todos-controller.js","sourceRoot":"","sources":["get-all-todos-controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,8CAA8D;AAC9D,oCAAoC;AACpC,gDAA6C;AAE7C,0DAAiD;AAMjD,IAAa,qBAAqB,GAAlC,MAAa,qBAAsB,SAAQ,kBAAU;IAKjD,YAAmB,cAA8B;QAE7C,KAAK,EAAE,CAAC;QACR,mBAAK,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAC1E,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;IAC1C,CAAC;IAGY,OAAO;;YAEhB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAClD,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CACjB,CAAC;gBACG,EAAE,EAAE,CAAC,CAAC,EAAE;gBACR,KAAK,EAAE,CAAC,CAAC,KAAK;gBACd,WAAW,EAAE,CAAC,CAAC,WAAW;gBAC1B,WAAW,EAAE,CAAC,CAAC,WAAW;aAC7B,CAAC,CAAC,CAAC;QACZ,CAAC;KAAA;CACJ,CAAA;AAxBY,qBAAqB;IAHjC,aAAK,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC;IAC/B,aAAK;IACL,eAAM,CAAC,gBAAgB,CAAC;;GACZ,qBAAqB,CAwBjC;AAxBY,sDAAqB","sourcesContent":["import { Controller, route, query } from \"@nivinjoseph/n-web\";\nimport * as Routes from \"../routes\";\nimport { inject } from \"@nivinjoseph/n-ject\";\nimport { TodoRepository } from \"../../../domain/repositories/todo-repository\";\nimport { given } from \"@nivinjoseph/n-defensive\";\n\n\n@route(Routes.query.getAllTodos)\n@query\n@inject(\"TodoRepository\")    \nexport class GetAllTodosController extends Controller\n{\n    private readonly _todoRepository: TodoRepository;\n    \n    \n    public constructor(todoRepository: TodoRepository)\n    {\n        super();\n        given(todoRepository, \"todoRepository\").ensureHasValue().ensureIsObject();\n        this._todoRepository = todoRepository;\n    }\n    \n    \n    public async execute(): Promise<ReadonlyArray<object>>\n    {\n        const todos = await this._todoRepository.getAll();\n        return todos.map(t =>\n            ({\n                id: t.id,\n                title: t.title,\n                description: t.description,\n                isCompleted: t.isCompleted\n            }));\n    }\n}"]}