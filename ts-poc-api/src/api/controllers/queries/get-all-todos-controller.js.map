{"version":3,"file":"get-all-todos-controller.js","sourceRoot":"","sources":["get-all-todos-controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,8CAA8D;AAC9D,oCAAoC;AACpC,gDAA6C;AAE7C,0DAAiD;AAMjD,IAAa,qBAAqB,GAAlC,MAAa,qBAAsB,SAAQ,kBAAU;IAKjD,YAAmB,cAA8B;QAE7C,KAAK,EAAE,CAAC;QACR,mBAAK,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAC1E,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;IAC1C,CAAC;IAGY,OAAO;;YAEhB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAClD,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CACjB,CAAC;gBACG,EAAE,EAAE,CAAC,CAAC,EAAE;gBACR,KAAK,EAAE,CAAC,CAAC,KAAK;gBACd,WAAW,EAAE,CAAC,CAAC,WAAW;gBAC1B,WAAW,EAAE,CAAC,CAAC,WAAW;aAC7B,CAAC,CAAC,CAAC;QACZ,CAAC;KAAA;CACJ,CAAA;AAxBY,qBAAqB;IAHjC,aAAK,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC;IAC/B,aAAK;IACL,eAAM,CAAC,gBAAgB,CAAC;;GACZ,qBAAqB,CAwBjC;AAxBY,sDAAqB","sourcesContent":["import { Controller, route, query } from \"@nivinjoseph/n-web\";\r\nimport * as Routes from \"../routes\";\r\nimport { inject } from \"@nivinjoseph/n-ject\";\r\nimport { TodoRepository } from \"../../../domain/repositories/todo-repository\";\r\nimport { given } from \"@nivinjoseph/n-defensive\";\r\n\r\n\r\n@route(Routes.query.getAllTodos)\r\n@query\r\n@inject(\"TodoRepository\")    \r\nexport class GetAllTodosController extends Controller\r\n{\r\n    private readonly _todoRepository: TodoRepository;\r\n    \r\n    \r\n    public constructor(todoRepository: TodoRepository)\r\n    {\r\n        super();\r\n        given(todoRepository, \"todoRepository\").ensureHasValue().ensureIsObject();\r\n        this._todoRepository = todoRepository;\r\n    }\r\n    \r\n    \r\n    public async execute(): Promise<ReadonlyArray<object>>\r\n    {\r\n        const todos = await this._todoRepository.getAll();\r\n        return todos.map(t =>\r\n            ({\r\n                id: t.id,\r\n                title: t.title,\r\n                description: t.description,\r\n                isCompleted: t.isCompleted\r\n            }));\r\n    }\r\n}"]}