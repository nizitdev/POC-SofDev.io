{"version":3,"file":"app-exception-handler.js","sourceRoot":"","sources":["app-exception-handler.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,gDAA6C;AAC7C,8CAA4E;AAE5E,iEAA6D;AAC7D,+FAAyF;AAIzF,IAAa,mBAAmB,GAAhC,MAAa,mBAAoB,SAAQ,+BAAuB;IAE5D,YAAmB,MAAc;QAE7B,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAEpB,IAAI,CAAC,eAAe,CAAC,gDAAqB,EAEtC,CAAC,GAAG,EAAE,EAAE;YAEJ,MAAM,IAAI,qBAAa,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QAEP,IAAI,CAAC,eAAe,CAAC,0CAAmB,EACpC,CAAC,GAAwB,EAAE,EAAE;YAEzB,MAAM,IAAI,qBAAa,CAAC,GAAG,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;IACX,CAAC;CACJ,CAAA;AAnBY,mBAAmB;IAD/B,eAAM,CAAC,QAAQ,CAAC;;GACJ,mBAAmB,CAmB/B;AAnBY,kDAAmB","sourcesContent":["import { inject } from \"@nivinjoseph/n-ject\";\r\nimport { DefaultExceptionHandler, HttpException } from \"@nivinjoseph/n-web\";\r\nimport { Logger } from \"@nivinjoseph/n-log\";\r\nimport { ValidationException } from \"./validation-exception\";\r\nimport { TodoNotFoundException } from \"../../domain/exceptions/todo-not-found-exception\";\r\n\r\n\r\n@inject(\"Logger\")\r\nexport class AppExceptionHandler extends DefaultExceptionHandler\r\n{\r\n    public constructor(logger: Logger)\r\n    {\r\n        super(logger, true);\r\n\r\n        this.registerHandler(TodoNotFoundException,\r\n            // @ts-ignore\r\n            (exp) =>\r\n            {\r\n                throw new HttpException(404);\r\n            });\r\n\r\n        this.registerHandler(ValidationException,\r\n            (exp: ValidationException) =>\r\n            {\r\n                throw new HttpException(400, exp.errors);\r\n            });\r\n    }\r\n}"]}