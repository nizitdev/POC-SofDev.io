{"version":3,"file":"app-exception-handler.js","sourceRoot":"","sources":["app-exception-handler.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,gDAA6C;AAC7C,8CAA4E;AAE5E,iEAA6D;AAC7D,+FAAyF;AAIzF,IAAa,mBAAmB,GAAhC,MAAa,mBAAoB,SAAQ,+BAAuB;IAE5D,YAAmB,MAAc;QAE7B,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAEpB,IAAI,CAAC,eAAe,CAAC,gDAAqB,EAEtC,CAAC,GAAG,EAAE,EAAE;YAEJ,MAAM,IAAI,qBAAa,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QAEP,IAAI,CAAC,eAAe,CAAC,0CAAmB,EACpC,CAAC,GAAwB,EAAE,EAAE;YAEzB,MAAM,IAAI,qBAAa,CAAC,GAAG,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;IACX,CAAC;CACJ,CAAA;AAnBY,mBAAmB;IAD/B,eAAM,CAAC,QAAQ,CAAC;;GACJ,mBAAmB,CAmB/B;AAnBY,kDAAmB","sourcesContent":["import { inject } from \"@nivinjoseph/n-ject\";\nimport { DefaultExceptionHandler, HttpException } from \"@nivinjoseph/n-web\";\nimport { Logger } from \"@nivinjoseph/n-log\";\nimport { ValidationException } from \"./validation-exception\";\nimport { TodoNotFoundException } from \"../../domain/exceptions/todo-not-found-exception\";\n\n\n@inject(\"Logger\")\nexport class AppExceptionHandler extends DefaultExceptionHandler\n{\n    public constructor(logger: Logger)\n    {\n        super(logger, true);\n\n        this.registerHandler(TodoNotFoundException,\n            // @ts-ignore\n            (exp) =>\n            {\n                throw new HttpException(404);\n            });\n\n        this.registerHandler(ValidationException,\n            (exp: ValidationException) =>\n            {\n                throw new HttpException(400, exp.errors);\n            });\n    }\n}"]}