{"version":3,"file":"db-script.js","sourceRoot":"","sources":["db-script.ts"],"names":[],"mappings":";;AAAA,gDAA+C;AAC/C,6FAAuF;AAGvF,MAAM,EAAE,GAAG,IAAI,iBAAQ,CAAC,IAAI,0DAA0B,EAAE,CAAC,CAAC;AAE1D,MAAM,GAAG,GAAG;;;;;;;;;CASX,CAAC;AAEF,EAAE,CAAC,cAAc,CAAC,GAAG,CAAC;KACjB,IAAI,CAAC,GAAG,EAAE;IAEP,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC5B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACpB,CAAC,CAAC;KACD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE;IAET,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC;IACvC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACpB,CAAC,CAAC,CAAC","sourcesContent":["import { KnexPgDb } from \"@nivinjoseph/n-data\";\nimport { DefaultDbConnectionFactory } from \"./factories/default-db-connection-factory\";\n\n\nconst db = new KnexPgDb(new DefaultDbConnectionFactory());\n\nconst sql = `\n    create table todos\n    (\n        id varchar (48) primary key,\n        version int not null,\n        created_at bigint not null,\n        updated_at bigint not null,\n        data jsonb not null\n    );\n`;\n\ndb.executeCommand(sql)\n    .then(() =>\n    {\n        console.log(\"DB created!!\");\n        process.exit(0);\n    })\n    .catch((e) =>\n    {\n        console.log(\"DB creation failed!!\", e);\n        process.exit(1);\n    });"]}