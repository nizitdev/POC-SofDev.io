{"version":3,"file":"todo-title-updated.js","sourceRoot":"","sources":["todo-title-updated.ts"],"names":[],"mappings":";;AAAA,0DAAiD;AAEjD,oDAAqE;AAGrE,MAAa,gBAAiB,SAAQ,sBAAsB;IAKxD,YAAmB,IAAqB,EAAE,KAAa;QAEnD,KAAK,CAAC,IAAI,CAAC,CAAC;QAEZ,mBAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QACxD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAGM,MAAM,CAAC,gBAAgB,CAAC,IAAkC;QAE7D,mBAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAEtD,OAAO,IAAI,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAGS,cAAc;QAEpB,OAAO;YACH,KAAK,EAAE,IAAI,CAAC,MAAM;SACrB,CAAC;IACN,CAAC;IAES,UAAU,CAAC,KAAgB;QAEjC,mBAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAExD,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;IAC9B,CAAC;CACJ;AAnCD,4CAmCC","sourcesContent":["import { given } from \"@nivinjoseph/n-defensive\";\nimport { TodoState } from \"../todo-state\";\nimport { DomainEvent, DomainEventData } from \"@nivinjoseph/n-domain\";\n\n\nexport class TodoTitleUpdated extends DomainEvent<TodoState>\n{\n    private readonly _title: string;\n\n\n    public constructor(data: DomainEventData, title: string)\n    {\n        super(data);\n        \n        given(title, \"title\").ensureHasValue().ensureIsString();\n        this._title = title;\n    }\n\n    \n    public static deserializeEvent(data: DomainEventData & Serialized): TodoTitleUpdated\n    {\n        given(data, \"data\").ensureHasValue().ensureIsObject();\n\n        return new TodoTitleUpdated(data, data.title);\n    }\n\n    \n    protected serializeEvent(): Serialized\n    {\n        return {\n            title: this._title\n        };\n    }\n\n    protected applyEvent(state: TodoState): void\n    {\n        given(state, \"state\").ensureHasValue().ensureIsObject();\n        \n        state.title = this._title;\n    }\n}\n\n\ninterface Serialized\n{\n    title: string;\n}"]}