{"version":3,"file":"todo-created.js","sourceRoot":"","sources":["todo-created.ts"],"names":[],"mappings":";;AACA,0DAAiD;AACjD,oDAAqE;AAGrE,MAAa,WAAY,SAAQ,sBAAsB;IAOnD,YAAmB,IAAqB,EAAE,MAAc,EAAE,KAAa,EAAE,WAAmB;QAExF,KAAK,CAAC,IAAI,CAAC,CAAC;QAEZ,mBAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAC1D,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QAEtB,mBAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QACxD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAEpB,mBAAK,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC,cAAc,EAAE,CAAC;QACnD,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;IACpC,CAAC;IAGM,MAAM,CAAC,gBAAgB,CAAC,IAAkC;QAE7D,mBAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAEtD,OAAO,IAAI,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAC5E,CAAC;IAGS,cAAc;QAEpB,OAAO;YACH,MAAM,EAAE,IAAI,CAAC,OAAO;YACpB,KAAK,EAAE,IAAI,CAAC,MAAM;YAClB,WAAW,EAAE,IAAI,CAAC,YAAY;SACjC,CAAC;IACN,CAAC;IAES,UAAU,CAAC,KAAgB;QAEjC,mBAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAExD,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QACxB,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;IAC1C,CAAC;CACJ;AA/CD,kCA+CC","sourcesContent":["import { TodoState } from \"../todo-state\";\r\nimport { given } from \"@nivinjoseph/n-defensive\";\r\nimport { DomainEvent, DomainEventData } from \"@nivinjoseph/n-domain\";\r\n\r\n\r\nexport class TodoCreated extends DomainEvent<TodoState>\r\n{\r\n    private readonly _todoId: string;\r\n    private readonly _title: string;\r\n    private readonly _description: string;\r\n\r\n\r\n    public constructor(data: DomainEventData, todoId: string, title: string, description: string)\r\n    {\r\n        super(data);\r\n\r\n        given(todoId, \"todoId\").ensureHasValue().ensureIsString();\r\n        this._todoId = todoId;\r\n\r\n        given(title, \"title\").ensureHasValue().ensureIsString();\r\n        this._title = title;\r\n\r\n        given(description, \"description\").ensureIsString();\r\n        this._description = description;\r\n    }\r\n\r\n    \r\n    public static deserializeEvent(data: DomainEventData & Serialized): TodoCreated\r\n    {\r\n        given(data, \"data\").ensureHasValue().ensureIsObject();\r\n\r\n        return new TodoCreated(data, data.todoId, data.title, data.description);\r\n    }\r\n\r\n\r\n    protected serializeEvent(): Serialized\r\n    {\r\n        return {\r\n            todoId: this._todoId,\r\n            title: this._title,\r\n            description: this._description\r\n        };\r\n    }\r\n\r\n    protected applyEvent(state: TodoState): void\r\n    {\r\n        given(state, \"state\").ensureHasValue().ensureIsObject();\r\n\r\n        state.id = this._todoId;\r\n        state.title = this._title;\r\n        state.description = this._description;\r\n    }\r\n}\r\n\r\n\r\ninterface Serialized\r\n{\r\n    todoId: string;\r\n    title: string;\r\n    description: string;\r\n}"]}