{"version":3,"file":"db-exception.js","sourceRoot":"","sources":["../../src/exceptions/db-exception.ts"],"names":[],"mappings":";;AAAA,0DAAqD;AACrD,qDAAiD;AACjD,0DAAiD;AAGjD,MAAa,WAAY,SAAQ,uBAAS;IAOtC,IAAW,SAAS,KAAa,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;IAC1D,IAAW,GAAG,KAAa,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9C,IAAW,MAAM,KAAyB,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAGhE,YAAmB,aAA4B,EAAE,GAAW,EAAE,MAA0B,EAAE,GAAW;QAEjG,mBAAK,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC,cAAc,EAAE,CAAC;QACvD,mBAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,cAAc,EAAE,CAAC;QACnC,mBAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,cAAc,EAAE,CAAC;QAEzC,IAAI,SAAS,GAAG,aAAa,KAAK,8BAAa,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC;QAC5E,IAAI,OAAO,GAAG,gBAAgB,SAAS,wBAAwB,GAAG,iBAAiB,MAAM,IAAI,CAAC;QAC9F,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;QAEpB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAChB,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC;IAC/B,CAAC;CACJ;AA1BD,kCA0BC","sourcesContent":["import { Exception } from \"@nivinjoseph/n-exception\";\nimport { OperationType } from \"./operation-type\";\nimport { given } from \"@nivinjoseph/n-defensive\";\n\n\nexport class DbException extends Exception\n{ \n    private readonly _operation: string;\n    private readonly _sql: string;\n    private readonly _params: Array<any>;\n    \n    \n    public get operation(): string { return this._operation; }\n    public get sql(): string { return this._sql; }\n    public get params(): ReadonlyArray<any> { return this._params; }\n    \n    \n    public constructor(operationType: OperationType, sql: string, params: ReadonlyArray<any>, err?: Error)\n    {\n        given(operationType, \"operationType\").ensureHasValue();\n        given(sql, \"sql\").ensureHasValue();\n        given(params, \"params\").ensureHasValue();\n        \n        let operation = operationType === OperationType.query ? \"query\" : \"command\";\n        let message = `Error during ${operation} operation with sql \"${sql}\" and params [${params}].`;\n        super(message, err);\n        \n        this._operation = operation;\n        this._sql = sql;\n        this._params = [...params];\n    }\n}"]}