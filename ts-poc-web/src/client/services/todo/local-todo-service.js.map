{"version":3,"file":"local-todo-service.js","sourceRoot":"","sources":["local-todo-service.ts"],"names":[],"mappings":"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","sourcesContent":["import { TodoService } from \"./todo-service\";\r\nimport { Todo } from \"../../models/todo\";\r\nimport { given } from \"@nivinjoseph/n-defensive\";\r\n\r\n\r\nexport class LocalTodoService implements TodoService\r\n{\r\n    private readonly _todos: Array<Todo>;\r\n    private _counter: number;\r\n    \r\n    \r\n    public constructor()\r\n    {\r\n        const todos = new Array<Todo>();\r\n        const count = 10;\r\n        \r\n        for (let i = 0; i < count; i++)\r\n        {\r\n            todos.push({\r\n                id: \"id\" + i,\r\n                title: \"title\" + i,\r\n                description: \"description\" + i,\r\n                isCompleted: false,\r\n                isDeleted: false\r\n            });\r\n        }\r\n        \r\n        this._todos = todos;\r\n        this._counter = count;\r\n    }\r\n    \r\n    \r\n    public getTodos(): Promise<ReadonlyArray<Todo>>\r\n    {\r\n        return Promise.resolve(this._todos);\r\n    }\r\n    \r\n    public getTodo(id: string): Promise<Todo>\r\n    {\r\n        debugger;\r\n        given(id, \"id\").ensureHasValue().ensureIsString();\r\n        \r\n        return Promise.resolve(this._todos.find(t => t.id === id));\r\n    }\r\n    \r\n    public createTodo(title: string, description: string): Promise<Todo>\r\n    {\r\n        given(title, \"title\").ensureHasValue().ensureIsString();\r\n        given(description, \"description\").ensureIsString();\r\n        \r\n        const todo: Todo = {\r\n            id: \"id\" + this._counter,\r\n            title: title,\r\n            description: description,\r\n            isCompleted: false,\r\n            isDeleted: false\r\n        };\r\n        \r\n        this._todos.push(todo);\r\n        return Promise.resolve(todo);\r\n    }\r\n    \r\n    public updateTodo(id: string, title: string, description: string): Promise<void>\r\n    {\r\n        given(id, \"id\").ensureHasValue().ensureIsString();\r\n        given(title, \"title\").ensureHasValue().ensureIsString();\r\n        given(description, \"description\").ensureIsString();\r\n        \r\n        const todo = this._todos.find(t => t.id === id);\r\n        todo.title = title;\r\n        todo.description = description;\r\n        \r\n        return Promise.resolve();\r\n    }\r\n    \r\n    public markTodoAsCompleted(id: string): Promise<void>\r\n    {\r\n        given(id, \"id\").ensureHasValue().ensureIsString();\r\n        \r\n        const todo = this._todos.find(t => t.id === id);\r\n        todo.isCompleted = true;\r\n        \r\n        return Promise.resolve();\r\n    }\r\n    \r\n    public deleteTodo(id: string): Promise<void>\r\n    {\r\n        given(id, \"id\").ensureHasValue().ensureIsString();\r\n        \r\n        const todo = this._todos.find(t => t.id === id);\r\n        todo.isDeleted = true;\r\n\r\n        return Promise.resolve();\r\n    }\r\n}"]}