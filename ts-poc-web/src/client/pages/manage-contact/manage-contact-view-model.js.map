{"version":3,"file":"manage-contact-view-model.js","sourceRoot":"","sources":["manage-contact-view-model.ts"],"names":[],"mappings":"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","sourcesContent":["import { PageViewModel, template, route, NavigationService } from \"@nivinjoseph/n-app\";\nimport * as Routes from \"../routes\";\nimport \"./manage-contact-view.scss\";\nimport { inject } from \"@nivinjoseph/n-ject\";\nimport { ContactService } from \"../../services/todo/contact-service\";\nimport { given } from \"@nivinjoseph/n-defensive\";\n\n\n@template(require(\"./manage-contact-view.html\"))\n@route(Routes.manageContact)\n@inject(\"ContactService\", \"NavigationService\")\nexport class ManageContactViewModel extends PageViewModel\n{\n    private readonly _contactService: ContactService;\n    private readonly _navigationService: NavigationService;\n    private _operation: string;\n    private _id: string | null;\n    private _firstName: string;\n    private _lastName: string;\n    private _phoneNo: string;\n    private _email: string;\n\n    \n    public get operation(): string { return this._operation; }\n\n    public get firstName(): string { return this._firstName; }\n    public set firstName(value: string) { this._firstName = value; }\n\n    public get lastName(): string { return this._lastName; }\n    public set lastName(value: string) { this._lastName = value; }\n\n    public get email(): string { return this._email; }\n    public set email(value: string) { this._email = value; }\n\n    public get phoneNo(): string { return this._phoneNo; }\n    public set phoneNo(value: string) { this._phoneNo = value; }\n\n\n    public constructor(contactService: ContactService, navigationService: NavigationService)\n    {\n        super();\n        given(contactService, \"contactService\").ensureHasValue().ensureIsObject();\n        given(navigationService, \"navigationService\").ensureHasValue().ensureIsObject();\n        \n        this._contactService = contactService;\n        this._navigationService = navigationService;\n        this._operation = \"\";\n        this._id = null; \n        this._firstName = \"\";\n        this._lastName = \"\";\n        this._email = \"\";\n        this._phoneNo = \"\";\n    }\n\n\n    public save(): void\n    {\n        const savePromise: Promise<any> = this._id\n        ? this._contactService.updateContact(this._id, this._firstName, this._lastName, this._phoneNo, this._email)\n            : this._contactService.createContact(this._firstName, this._lastName, this._phoneNo, this._email);\n        \n        savePromise\n            .then(() => this._navigationService.navigate(Routes.listContacts, {}))\n            .catch(e => console.log(e));\n    }\n    \n    \n    protected onEnter(id?: string): void\n    {\n        if (id && !id.isEmptyOrWhiteSpace())\n        {\n            this._operation = \"Update\";\n            \n            this._contactService.getContact(id)\n                .then(t =>\n                {\n                    this._id = t.id;\n                    this._firstName = t.firstName;\n                    this._lastName = t.lastName;\n                    this._phoneNo = t.phoneNo;\n                    this._email = t.email;\n                })\n                .catch(e => console.log(e));\n        }\n        else\n        {\n            this._operation = \"Add\";\n        }\n    }\n}"]}